<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  Class: Eryph::ClientRuntime::ClientCredentialsLookup
  
    &mdash; Eryph Ruby Client API
  
</title>

  <link rel="stylesheet" href="../../css/style.css" type="text/css" />

  <link rel="stylesheet" href="../../css/common.css" type="text/css" />

<script type="text/javascript">
  pathId = "Eryph::ClientRuntime::ClientCredentialsLookup";
  relpath = '../../';
</script>


  <script type="text/javascript" charset="utf-8" src="../../js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="../../js/app.js"></script>


  </head>
  <body>
    <div class="nav_wrap">
      <iframe id="nav" src="../../class_list.html?1"></iframe>
      <div id="resizer"></div>
    </div>

    <div id="main" tabindex="-1">
      <div id="header">
        <div id="menu">
  
    <a href="../../_index.html">Index (C)</a> &raquo;
    <span class='title'><span class='object_link'><a href="../../Eryph.html" title="Eryph (module)">Eryph</a></span></span> &raquo; <span class='title'><span class='object_link'><a href="../ClientRuntime.html" title="Eryph::ClientRuntime (module)">ClientRuntime</a></span></span>
     &raquo; 
    <span class="title">ClientCredentialsLookup</span>
  
</div>

        <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="../../class_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
        <div class="clear"></div>
      </div>

      <div id="content"><h1>Class: Eryph::ClientRuntime::ClientCredentialsLookup
  
  
  
</h1>
<div class="box_info">
  
  <dl>
    <dt>Inherits:</dt>
    <dd>
      <span class="inheritName">Object</span>
      
        <ul class="fullTree">
          <li>Object</li>
          
            <li class="next">Eryph::ClientRuntime::ClientCredentialsLookup</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
    </dd>
  </dl>
  

  
  
  
  
  

  

  
  <dl>
    <dt>Defined in:</dt>
    <dd>lib/eryph/clientruntime/client_credentials_lookup.rb</dd>
  </dl>
  
</div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    <p>Looks up client credentials from configuration stores
Supports automatic discovery across multiple configurations like .NET implementation</p>


  </div>
</div>
<div class="tags">
  

</div>



  <h2>Instance Attribute Summary <small><a href="#" class="summary_toggle">collapse</a></small></h2>
  <ul class="summary">
    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#config_name-instance_method" title="#config_name (instance method)">#<strong>config_name</strong>  &#x21d2; String<sup>?</sup> </a>
    

    
  </span>
  
  
  
    
      <span class="note title readonly">readonly</span>
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Configuration name for specific lookups.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#reader-instance_method" title="#reader (instance method)">#<strong>reader</strong>  &#x21d2; ConfigStoresReader </a>
    

    
  </span>
  
  
  
    
      <span class="note title readonly">readonly</span>
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Configuration stores reader.</p>
</div></span>
  
</li>

    
  </ul>




  
    <h2>
      Instance Method Summary
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#credentials_available%3F-instance_method" title="#credentials_available? (instance method)">#<strong>credentials_available?</strong>  &#x21d2; Boolean </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Test if credentials are available.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#find_credentials-instance_method" title="#find_credentials (instance method)">#<strong>find_credentials</strong>  &#x21d2; ClientCredentials </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Find and return client credentials Uses automatic discovery if no config_name specified, otherwise looks in specific config.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#find_credentials_in_configs-instance_method" title="#find_credentials_in_configs (instance method)">#<strong>find_credentials_in_configs</strong>(*config_names)  &#x21d2; ClientCredentials </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Try multiple configurations in order.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#get_credentials_by_client_id-instance_method" title="#get_credentials_by_client_id (instance method)">#<strong>get_credentials_by_client_id</strong>(client_id, config_name = &#39;default&#39;)  &#x21d2; ClientCredentials<sup>?</sup> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Get credentials by client ID from specific configuration.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#get_credentials_by_client_name-instance_method" title="#get_credentials_by_client_name (instance method)">#<strong>get_credentials_by_client_name</strong>(client_name, config_name = &#39;default&#39;)  &#x21d2; ClientCredentials<sup>?</sup> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Get credentials by client name from specific configuration.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#get_default_credentials-instance_method" title="#get_default_credentials (instance method)">#<strong>get_default_credentials</strong>(config_name)  &#x21d2; ClientCredentials<sup>?</sup> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Get default client credentials from specific configuration.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#get_system_client_credentials-instance_method" title="#get_system_client_credentials (instance method)">#<strong>get_system_client_credentials</strong>(config_name = &#39;local&#39;)  &#x21d2; ClientCredentials<sup>?</sup> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Get system client credentials for zero/local configurations.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#initialize-instance_method" title="#initialize (instance method)">#<strong>initialize</strong>(reader, config_name = nil)  &#x21d2; ClientCredentialsLookup </a>
    

    
  </span>
  
  
    <span class="note title constructor">constructor</span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Initialize the credentials lookup.</p>
</div></span>
  
</li>

      
    </ul>
  

<div id="constructor_details" class="method_details_list">
  <h2>Constructor Details</h2>
  
    <div class="method_details first">
  <h3 class="signature first" id="initialize-instance_method">
  
    #<strong>initialize</strong>(reader, config_name = nil)  &#x21d2; <tt><span class='object_link'><a href="" title="Eryph::ClientRuntime::ClientCredentialsLookup (class)">ClientCredentialsLookup</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Initialize the credentials lookup</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>reader</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="ConfigStoresReader.html" title="Eryph::ClientRuntime::ConfigStoresReader (class)">ConfigStoresReader</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>configuration stores reader</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>config_name</span>
      
      
        <span class='type'>(<tt>String</tt>, <tt>nil</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>nil</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>configuration name for specific lookup, nil for automatic discovery</p>
</div>
      
    </li>
  
</ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


71
72
73
74</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/eryph/clientruntime/client_credentials_lookup.rb', line 71</span>

<span class='kw'>def</span> <span class='id identifier rubyid_initialize'>initialize</span><span class='lparen'>(</span><span class='id identifier rubyid_reader'>reader</span><span class='comma'>,</span> <span class='id identifier rubyid_config_name'>config_name</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='rparen'>)</span>
  <span class='ivar'>@reader</span> <span class='op'>=</span> <span class='id identifier rubyid_reader'>reader</span>
  <span class='ivar'>@config_name</span> <span class='op'>=</span> <span class='id identifier rubyid_config_name'>config_name</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
  
</div>

  <div id="instance_attr_details" class="attr_details">
    <h2>Instance Attribute Details</h2>
    
      
      <span id=""></span>
      <div class="method_details first">
  <h3 class="signature first" id="config_name-instance_method">
  
    #<strong>config_name</strong>  &#x21d2; <tt>String</tt><sup>?</sup>  <span class="extras">(readonly)</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Returns configuration name for specific lookups.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>String</tt>, <tt>nil</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>configuration name for specific lookups</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


66
67
68</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/eryph/clientruntime/client_credentials_lookup.rb', line 66</span>

<span class='kw'>def</span> <span class='id identifier rubyid_config_name'>config_name</span>
  <span class='ivar'>@config_name</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id=""></span>
      <div class="method_details ">
  <h3 class="signature " id="reader-instance_method">
  
    #<strong>reader</strong>  &#x21d2; <tt><span class='object_link'><a href="ConfigStoresReader.html" title="Eryph::ClientRuntime::ConfigStoresReader (class)">ConfigStoresReader</a></span></tt>  <span class="extras">(readonly)</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Returns configuration stores reader.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="ConfigStoresReader.html" title="Eryph::ClientRuntime::ConfigStoresReader (class)">ConfigStoresReader</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>configuration stores reader</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


63
64
65</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/eryph/clientruntime/client_credentials_lookup.rb', line 63</span>

<span class='kw'>def</span> <span class='id identifier rubyid_reader'>reader</span>
  <span class='ivar'>@reader</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>


  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="credentials_available?-instance_method">
  
    #<strong>credentials_available?</strong>  &#x21d2; <tt>Boolean</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Test if credentials are available</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>true if credentials can be found</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


197
198
199
200
201
202</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/eryph/clientruntime/client_credentials_lookup.rb', line 197</span>

<span class='kw'>def</span> <span class='id identifier rubyid_credentials_available?'>credentials_available?</span>
  <span class='id identifier rubyid_find_credentials'>find_credentials</span>
  <span class='kw'>true</span>
<span class='kw'>rescue</span> <span class='const'><span class='object_link'><a href="CredentialsNotFoundError.html" title="Eryph::ClientRuntime::CredentialsNotFoundError (class)">CredentialsNotFoundError</a></span></span><span class='comma'>,</span> <span class='const'><span class='object_link'><a href="NoUserCredentialsError.html" title="Eryph::ClientRuntime::NoUserCredentialsError (class)">NoUserCredentialsError</a></span></span>
  <span class='kw'>false</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="find_credentials-instance_method">
  
    #<strong>find_credentials</strong>  &#x21d2; <tt><span class='object_link'><a href="ClientCredentials.html" title="Eryph::ClientRuntime::ClientCredentials (class)">ClientCredentials</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Find and return client credentials
Uses automatic discovery if no config_name specified, otherwise looks in specific config</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="ClientCredentials.html" title="Eryph::ClientRuntime::ClientCredentials (class)">ClientCredentials</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>the discovered credentials</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Raises:</p>
<ul class="raise">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="CredentialsNotFoundError.html" title="Eryph::ClientRuntime::CredentialsNotFoundError (class)">CredentialsNotFoundError</a></span></tt>, <tt><span class='object_link'><a href="NoUserCredentialsError.html" title="Eryph::ClientRuntime::NoUserCredentialsError (class)">NoUserCredentialsError</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>if credentials cannot be found</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/eryph/clientruntime/client_credentials_lookup.rb', line 80</span>

<span class='kw'>def</span> <span class='id identifier rubyid_find_credentials'>find_credentials</span>
  <span class='kw'>if</span> <span class='ivar'>@config_name</span>
    <span class='comment'># Find default client in specific config
</span>    <span class='id identifier rubyid_creds'>creds</span> <span class='op'>=</span> <span class='id identifier rubyid_get_default_credentials'>get_default_credentials</span><span class='lparen'>(</span><span class='ivar'>@config_name</span><span class='rparen'>)</span>
    
    <span class='comment'># For zero config, try system client as fallback
</span>    <span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_creds'>creds</span> <span class='op'>&amp;&amp;</span> <span class='ivar'>@config_name</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>zero</span><span class='tstring_end'>&#39;</span></span>
      <span class='id identifier rubyid_creds'>creds</span> <span class='op'>=</span> <span class='id identifier rubyid_get_system_client_credentials'>get_system_client_credentials</span><span class='lparen'>(</span><span class='ivar'>@config_name</span><span class='rparen'>)</span>
    <span class='kw'>end</span>
    
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'><span class='object_link'><a href="CredentialsNotFoundError.html" title="Eryph::ClientRuntime::CredentialsNotFoundError (class)">CredentialsNotFoundError</a></span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>No default client found in configuration &#39;</span><span class='embexpr_beg'>#{</span><span class='ivar'>@config_name</span><span class='embexpr_end'>}</span><span class='tstring_content'>&#39;</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>unless</span> <span class='id identifier rubyid_creds'>creds</span>
    <span class='id identifier rubyid_creds'>creds</span>
  <span class='kw'>else</span>
    <span class='comment'># Automatic discovery across multiple configs
</span>    <span class='id identifier rubyid_configs'>configs</span> <span class='op'>=</span> <span class='ivar'>@reader</span><span class='period'>.</span><span class='id identifier rubyid_environment'>environment</span><span class='period'>.</span><span class='id identifier rubyid_windows?'>windows?</span> <span class='op'>?</span> <span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>default</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>zero</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>local</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span> <span class='op'>:</span> <span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>default</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>local</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span>
    <span class='id identifier rubyid_find_credentials_in_configs'>find_credentials_in_configs</span><span class='lparen'>(</span><span class='op'>*</span><span class='id identifier rubyid_configs'>configs</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="find_credentials_in_configs-instance_method">
  
    #<strong>find_credentials_in_configs</strong>(*config_names)  &#x21d2; <tt><span class='object_link'><a href="ClientCredentials.html" title="Eryph::ClientRuntime::ClientCredentials (class)">ClientCredentials</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Try multiple configurations in order</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>config_names</span>
      
      
        <span class='type'>(<tt>Array&lt;String&gt;</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>configuration names to try</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="ClientCredentials.html" title="Eryph::ClientRuntime::ClientCredentials (class)">ClientCredentials</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>first credentials found</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Raises:</p>
<ul class="raise">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="NoUserCredentialsError.html" title="Eryph::ClientRuntime::NoUserCredentialsError (class)">NoUserCredentialsError</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>if no credentials found in any config</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


103
104
105
106
107
108
109
110
111
112
113
114
115
116
117</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/eryph/clientruntime/client_credentials_lookup.rb', line 103</span>

<span class='kw'>def</span> <span class='id identifier rubyid_find_credentials_in_configs'>find_credentials_in_configs</span><span class='lparen'>(</span><span class='op'>*</span><span class='id identifier rubyid_config_names'>config_names</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_config_names'>config_names</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_config_name'>config_name</span><span class='op'>|</span>
    <span class='comment'># Try default client first
</span>    <span class='id identifier rubyid_creds'>creds</span> <span class='op'>=</span> <span class='id identifier rubyid_get_default_credentials'>get_default_credentials</span><span class='lparen'>(</span><span class='id identifier rubyid_config_name'>config_name</span><span class='rparen'>)</span>
    <span class='kw'>return</span> <span class='id identifier rubyid_creds'>creds</span> <span class='kw'>if</span> <span class='id identifier rubyid_creds'>creds</span>
    
    <span class='comment'># Try system client for zero/local configs
</span>    <span class='kw'>if</span> <span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>zero</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>local</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='id identifier rubyid_config_name'>config_name</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_creds'>creds</span> <span class='op'>=</span> <span class='id identifier rubyid_get_system_client_credentials'>get_system_client_credentials</span><span class='lparen'>(</span><span class='id identifier rubyid_config_name'>config_name</span><span class='rparen'>)</span>
      <span class='kw'>return</span> <span class='id identifier rubyid_creds'>creds</span> <span class='kw'>if</span> <span class='id identifier rubyid_creds'>creds</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
  
  <span class='id identifier rubyid_raise'>raise</span> <span class='const'><span class='object_link'><a href="NoUserCredentialsError.html" title="Eryph::ClientRuntime::NoUserCredentialsError (class)">NoUserCredentialsError</a></span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>No credentials found. Please configure an eryph client.</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="get_credentials_by_client_id-instance_method">
  
    #<strong>get_credentials_by_client_id</strong>(client_id, config_name = &#39;default&#39;)  &#x21d2; <tt><span class='object_link'><a href="ClientCredentials.html" title="Eryph::ClientRuntime::ClientCredentials (class)">ClientCredentials</a></span></tt><sup>?</sup> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Get credentials by client ID from specific configuration</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>client_id</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>client ID to find</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>config_name</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>&#39;default&#39;</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>configuration name to search in</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="ClientCredentials.html" title="Eryph::ClientRuntime::ClientCredentials (class)">ClientCredentials</a></span></tt>, <tt>nil</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>credentials if found, nil otherwise</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


133
134
135
136
137
138</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/eryph/clientruntime/client_credentials_lookup.rb', line 133</span>

<span class='kw'>def</span> <span class='id identifier rubyid_get_credentials_by_client_id'>get_credentials_by_client_id</span><span class='lparen'>(</span><span class='id identifier rubyid_client_id'>client_id</span><span class='comma'>,</span> <span class='id identifier rubyid_config_name'>config_name</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>default</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
  <span class='id identifier rubyid_client'>client</span> <span class='op'>=</span> <span class='ivar'>@reader</span><span class='period'>.</span><span class='id identifier rubyid_get_client'>get_client</span><span class='lparen'>(</span><span class='id identifier rubyid_config_name'>config_name</span><span class='comma'>,</span> <span class='id identifier rubyid_client_id'>client_id</span><span class='rparen'>)</span>
  <span class='kw'>return</span> <span class='kw'>nil</span> <span class='kw'>unless</span> <span class='id identifier rubyid_client'>client</span>
  
  <span class='id identifier rubyid_build_credentials'>build_credentials</span><span class='lparen'>(</span><span class='id identifier rubyid_client'>client</span><span class='comma'>,</span> <span class='id identifier rubyid_config_name'>config_name</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="get_credentials_by_client_name-instance_method">
  
    #<strong>get_credentials_by_client_name</strong>(client_name, config_name = &#39;default&#39;)  &#x21d2; <tt><span class='object_link'><a href="ClientCredentials.html" title="Eryph::ClientRuntime::ClientCredentials (class)">ClientCredentials</a></span></tt><sup>?</sup> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Get credentials by client name from specific configuration</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>client_name</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>client name to find</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>config_name</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>&#39;default&#39;</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>configuration name to search in</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="ClientCredentials.html" title="Eryph::ClientRuntime::ClientCredentials (class)">ClientCredentials</a></span></tt>, <tt>nil</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>credentials if found, nil otherwise</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


144
145
146
147
148
149
150
151</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/eryph/clientruntime/client_credentials_lookup.rb', line 144</span>

<span class='kw'>def</span> <span class='id identifier rubyid_get_credentials_by_client_name'>get_credentials_by_client_name</span><span class='lparen'>(</span><span class='id identifier rubyid_client_name'>client_name</span><span class='comma'>,</span> <span class='id identifier rubyid_config_name'>config_name</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>default</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
  <span class='comment'># Search through all clients to find by name
</span>  <span class='id identifier rubyid_all_clients'>all_clients</span> <span class='op'>=</span> <span class='ivar'>@reader</span><span class='period'>.</span><span class='id identifier rubyid_get_all_clients'>get_all_clients</span><span class='lparen'>(</span><span class='id identifier rubyid_config_name'>config_name</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_client'>client</span> <span class='op'>=</span> <span class='id identifier rubyid_all_clients'>all_clients</span><span class='period'>.</span><span class='id identifier rubyid_find'>find</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_c'>c</span><span class='op'>|</span> <span class='id identifier rubyid_c'>c</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>name</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span> <span class='op'>==</span> <span class='id identifier rubyid_client_name'>client_name</span> <span class='rbrace'>}</span>
  <span class='kw'>return</span> <span class='kw'>nil</span> <span class='kw'>unless</span> <span class='id identifier rubyid_client'>client</span>
  
  <span class='id identifier rubyid_build_credentials'>build_credentials</span><span class='lparen'>(</span><span class='id identifier rubyid_client'>client</span><span class='comma'>,</span> <span class='id identifier rubyid_config_name'>config_name</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="get_default_credentials-instance_method">
  
    #<strong>get_default_credentials</strong>(config_name)  &#x21d2; <tt><span class='object_link'><a href="ClientCredentials.html" title="Eryph::ClientRuntime::ClientCredentials (class)">ClientCredentials</a></span></tt><sup>?</sup> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Get default client credentials from specific configuration</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>config_name</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>configuration name</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="ClientCredentials.html" title="Eryph::ClientRuntime::ClientCredentials (class)">ClientCredentials</a></span></tt>, <tt>nil</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>credentials if found, nil otherwise</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


122
123
124
125
126
127</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/eryph/clientruntime/client_credentials_lookup.rb', line 122</span>

<span class='kw'>def</span> <span class='id identifier rubyid_get_default_credentials'>get_default_credentials</span><span class='lparen'>(</span><span class='id identifier rubyid_config_name'>config_name</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_client'>client</span> <span class='op'>=</span> <span class='ivar'>@reader</span><span class='period'>.</span><span class='id identifier rubyid_get_default_client'>get_default_client</span><span class='lparen'>(</span><span class='id identifier rubyid_config_name'>config_name</span><span class='rparen'>)</span>
  <span class='kw'>return</span> <span class='kw'>nil</span> <span class='kw'>unless</span> <span class='id identifier rubyid_client'>client</span>
  
  <span class='id identifier rubyid_build_credentials'>build_credentials</span><span class='lparen'>(</span><span class='id identifier rubyid_client'>client</span><span class='comma'>,</span> <span class='id identifier rubyid_config_name'>config_name</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="get_system_client_credentials-instance_method">
  
    #<strong>get_system_client_credentials</strong>(config_name = &#39;local&#39;)  &#x21d2; <tt><span class='object_link'><a href="ClientCredentials.html" title="Eryph::ClientRuntime::ClientCredentials (class)">ClientCredentials</a></span></tt><sup>?</sup> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Get system client credentials for zero/local configurations</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>config_name</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>&#39;local&#39;</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>configuration name (‘zero’ or ‘local’)</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="ClientCredentials.html" title="Eryph::ClientRuntime::ClientCredentials (class)">ClientCredentials</a></span></tt>, <tt>nil</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>system credentials if available, nil otherwise</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Raises:</p>
<ul class="raise">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="NoUserCredentialsError.html" title="Eryph::ClientRuntime::NoUserCredentialsError (class)">NoUserCredentialsError</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>if system client available but requires admin privileges</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/eryph/clientruntime/client_credentials_lookup.rb', line 157</span>

<span class='kw'>def</span> <span class='id identifier rubyid_get_system_client_credentials'>get_system_client_credentials</span><span class='lparen'>(</span><span class='id identifier rubyid_config_name'>config_name</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>local</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
  <span class='kw'>return</span> <span class='kw'>nil</span> <span class='kw'>unless</span> <span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>zero</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>local</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='id identifier rubyid_config_name'>config_name</span><span class='rparen'>)</span>
  <span class='kw'>return</span> <span class='kw'>nil</span> <span class='kw'>unless</span> <span class='ivar'>@reader</span><span class='period'>.</span><span class='id identifier rubyid_environment'>environment</span><span class='period'>.</span><span class='id identifier rubyid_windows?'>windows?</span> <span class='op'>||</span> <span class='ivar'>@reader</span><span class='period'>.</span><span class='id identifier rubyid_environment'>environment</span><span class='period'>.</span><span class='id identifier rubyid_linux?'>linux?</span>
  
  <span class='comment'># Zero config only supported on Windows
</span>  <span class='kw'>if</span> <span class='id identifier rubyid_config_name'>config_name</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>zero</span><span class='tstring_end'>&#39;</span></span> <span class='op'>&amp;&amp;</span> <span class='op'>!</span><span class='ivar'>@reader</span><span class='period'>.</span><span class='id identifier rubyid_environment'>environment</span><span class='period'>.</span><span class='id identifier rubyid_windows?'>windows?</span>
    <span class='kw'>return</span> <span class='kw'>nil</span>
  <span class='kw'>end</span>
  
  <span class='comment'># Check admin privileges on Windows
</span>  <span class='kw'>if</span> <span class='ivar'>@reader</span><span class='period'>.</span><span class='id identifier rubyid_environment'>environment</span><span class='period'>.</span><span class='id identifier rubyid_windows?'>windows?</span> <span class='op'>&amp;&amp;</span> <span class='op'>!</span><span class='ivar'>@reader</span><span class='period'>.</span><span class='id identifier rubyid_environment'>environment</span><span class='period'>.</span><span class='id identifier rubyid_admin_user?'>admin_user?</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'><span class='object_link'><a href="NoUserCredentialsError.html" title="Eryph::ClientRuntime::NoUserCredentialsError (class)">NoUserCredentialsError</a></span></span><span class='comma'>,</span> 
      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>No user credentials found. System client is available but requires Administrator privileges. </span><span class='tstring_end'>&quot;</span></span> <span class='op'>+</span>
      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Please run as Administrator (Windows) or root (Linux) to use system client.</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
  
  <span class='comment'># Check root privileges on Linux
</span>  <span class='kw'>if</span> <span class='ivar'>@reader</span><span class='period'>.</span><span class='id identifier rubyid_environment'>environment</span><span class='period'>.</span><span class='id identifier rubyid_linux?'>linux?</span> <span class='op'>&amp;&amp;</span> <span class='op'>!</span><span class='ivar'>@reader</span><span class='period'>.</span><span class='id identifier rubyid_environment'>environment</span><span class='period'>.</span><span class='id identifier rubyid_admin_user?'>admin_user?</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'><span class='object_link'><a href="NoUserCredentialsError.html" title="Eryph::ClientRuntime::NoUserCredentialsError (class)">NoUserCredentialsError</a></span></span><span class='comma'>,</span>
      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>No user credentials found. System client is available but requires root privileges. </span><span class='tstring_end'>&quot;</span></span> <span class='op'>+</span>
      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Please run as root to use system client.</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
  
  <span class='id identifier rubyid_provider_info'>provider_info</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="LocalIdentityProviderInfo.html" title="Eryph::ClientRuntime::LocalIdentityProviderInfo (class)">LocalIdentityProviderInfo</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="LocalIdentityProviderInfo.html#initialize-instance_method" title="Eryph::ClientRuntime::LocalIdentityProviderInfo#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='ivar'>@reader</span><span class='period'>.</span><span class='id identifier rubyid_environment'>environment</span><span class='comma'>,</span> <span class='id identifier rubyid_config_name'>config_name</span><span class='rparen'>)</span>
  <span class='kw'>return</span> <span class='kw'>nil</span> <span class='kw'>unless</span> <span class='id identifier rubyid_provider_info'>provider_info</span><span class='period'>.</span><span class='id identifier rubyid_running?'>running?</span>
  
  <span class='id identifier rubyid_system_creds'>system_creds</span> <span class='op'>=</span> <span class='id identifier rubyid_provider_info'>provider_info</span><span class='period'>.</span><span class='id identifier rubyid_system_client_credentials'>system_client_credentials</span>
  <span class='kw'>return</span> <span class='kw'>nil</span> <span class='kw'>unless</span> <span class='id identifier rubyid_system_creds'>system_creds</span>
  
  <span class='const'><span class='object_link'><a href="ClientCredentials.html" title="Eryph::ClientRuntime::ClientCredentials (class)">ClientCredentials</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="ClientCredentials.html#initialize-instance_method" title="Eryph::ClientRuntime::ClientCredentials#initialize (method)">new</a></span></span><span class='lparen'>(</span>
    <span class='label'>client_id:</span> <span class='id identifier rubyid_system_creds'>system_creds</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>id</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span><span class='comma'>,</span>
    <span class='label'>client_name:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>system-client</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span>
    <span class='label'>private_key:</span> <span class='id identifier rubyid_system_creds'>system_creds</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>private_key</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span><span class='comma'>,</span>
    <span class='label'>token_endpoint:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_system_creds'>system_creds</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>identity_endpoint</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span><span class='embexpr_end'>}</span><span class='tstring_content'>/connect/token</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
    <span class='label'>configuration:</span> <span class='id identifier rubyid_config_name'>config_name</span>
  <span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

      <div id="footer">
  Generated on Sun Aug 31 15:42:19 2025 by
  <a href="https://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.9.37 (ruby-3.4.4).
</div>

    </div>
  </body>
</html>